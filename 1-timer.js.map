{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst startBtnEl = document.querySelector('.start-btn');\nlet userSelectedDate=[];\nconst myInput = document.querySelector(\"#datetime-picker\");\n\nflatpickr(myInput, {\n   enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    if (userSelectedDate < Date.now()) {\n      if (!startBtnEl.disabled) {\n        startBtnEl.disabled = true;\n          }\n      iziToast.error({\n        timeout: 5000,\n    title: 'Error',\n        message: 'Please choose a date in the future'\n});\n      return;\n    } \n    startBtnEl.disabled = false;\n  },\n}); \nconst refs = {\n  days: document.querySelector('[data-days]'),\n  hours: document.querySelector('[data-hours]'),\n  minutes: document.querySelector('[data-minutes]'),\n  seconds: document.querySelector('[data-seconds]')\n}\nlet initTime;\nlet intervalId;\nlet timerValue;\nstartBtnEl.addEventListener('click', () => {\n  myInput.disabled = true;\n      startBtnEl.disabled = true;\n\n    const timerBegin = +new Date(myInput.value);\n  intervalId = setInterval(() => {\n      initTime = Date.now();\n  const differTime = timerBegin - initTime;\n    timerValue = convertMs(differTime);\n    let isTimerFinished = timerValue.daysStr === '00' && timerValue.minutesStr === '00' && timerValue.minutesStr === '00' && timerValue.secondsStr === '00';\n    if (isTimerFinished) {\n      clearInterval(intervalId);\n      myInput.disabled = false;\n      iziToast.success({\n    title: 'Час вийшов ✅',\n    message: '',\n});\n    }\n   refs.days.textContent = timerValue.daysStr;\n    refs.hours.textContent = timerValue.hoursStr;\n    refs.minutes.textContent = timerValue.minutesStr;\n    refs.seconds.textContent = timerValue.secondsStr;\n  }, 1000)\n})\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  const daysStr = String(days).padStart(2, \"0\");\n  const hoursStr = String(hours).padStart(2, \"0\");\n  const minutesStr = String(minutes).padStart(2, \"0\");\n  const secondsStr = String(seconds).padStart(2, \"0\");\n  return { daysStr, hoursStr, minutesStr, secondsStr };\n}\n\n\n"],"names":["startBtnEl","userSelectedDate","myInput","flatpickr","selectedDates","iziToast","refs","initTime","intervalId","timerValue","timerBegin","differTime","convertMs","ms","days","hours","minutes","seconds","daysStr","hoursStr","minutesStr","secondsStr"],"mappings":"+IAKA,MAAMA,EAAa,SAAS,cAAc,YAAY,EACtD,IAAIC,EAAiB,CAAA,EACrB,MAAMC,EAAU,SAAS,cAAc,kBAAkB,EAEzDC,EAAUD,EAAS,CAChB,WAAY,GACb,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQE,EAAe,CAErB,GADAH,EAAmBG,EAAc,CAAC,EAC9BH,EAAmB,KAAK,MAAO,CAC5BD,EAAW,WACdA,EAAW,SAAW,IAExBK,EAAS,MAAM,CACb,QAAS,IACb,MAAO,QACH,QAAS,oCACjB,CAAC,EACK,MACD,CACDL,EAAW,SAAW,EACvB,CACH,CAAC,EACD,MAAMM,EAAO,CACX,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CAClD,EACA,IAAIC,EACAC,EACAC,EACJT,EAAW,iBAAiB,QAAS,IAAM,CACzCE,EAAQ,SAAW,GACfF,EAAW,SAAW,GAExB,MAAMU,EAAa,CAAC,IAAI,KAAKR,EAAQ,KAAK,EAC5CM,EAAa,YAAY,IAAM,CAC3BD,EAAW,KAAK,MACpB,MAAMI,EAAaD,EAAaH,EAC9BE,EAAaG,EAAUD,CAAU,EACXF,EAAW,UAAY,MAAQA,EAAW,aAAe,MAAQA,EAAW,aAAe,MAAQA,EAAW,aAAe,OAEjJ,cAAcD,CAAU,EACxBN,EAAQ,SAAW,GACnBG,EAAS,QAAQ,CACnB,MAAO,eACP,QAAS,EACb,CAAC,GAEEC,EAAK,KAAK,YAAcG,EAAW,QAClCH,EAAK,MAAM,YAAcG,EAAW,SACpCH,EAAK,QAAQ,YAAcG,EAAW,WACtCH,EAAK,QAAQ,YAAcG,EAAW,UACvC,EAAE,GAAI,CACT,CAAC,EAED,SAASG,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAC5DK,EAAU,OAAOJ,CAAI,EAAE,SAAS,EAAG,GAAG,EACtCK,EAAW,OAAOJ,CAAK,EAAE,SAAS,EAAG,GAAG,EACxCK,EAAa,OAAOJ,CAAO,EAAE,SAAS,EAAG,GAAG,EAC5CK,EAAa,OAAOJ,CAAO,EAAE,SAAS,EAAG,GAAG,EAClD,MAAO,CAAE,QAAAC,EAAS,SAAAC,EAAU,WAAAC,EAAY,WAAAC,CAAU,CACpD"}